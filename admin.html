<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>クイズ管理画面</title>

  <!-- Firebase (CDN) -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
    import {
      getFirestore,
      doc,
      setDoc,
      getDoc,
      updateDoc,
      collection,
      getDocs,
      onSnapshot,
      serverTimestamp
    } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDqEcoMwo3BM9g_0MnKCdXDVtfg0qv-bHg",
      authDomain: "quiz-party2025.firebaseapp.com",
      projectId: "quiz-party2025",
      storageBucket: "quiz-party2025.firebasestorage.app",
      messagingSenderId: "929065994714",
      appId: "1:929065994714:web:196ebcf0208fd1096b98e3"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    window.firebaseDB = db;
    window.firebaseFirestoreFuncs = {
      doc,
      setDoc,
      getDoc,
      updateDoc,
      collection,
      getDocs,
      onSnapshot,
      serverTimestamp
    };
  </script>

  <style>
    body {
      font-family: system-ui, sans-serif;
      padding: 20px;
    }
    h1 {
      font-size: 26px;
      margin-bottom: 8px;
    }
    h2 {
      margin: 16px 0 8px;
    }
    .questionControl {
      border: 1px solid #ccc;
      padding: 10px;
      border-radius: 6px;
      margin-bottom: 12px;
    }
    button {
      margin: 4px;
      padding: 8px 12px;
      font-size: 14px;
    }
    small {
      color: #666;
      display: block;
      margin-bottom: 4px;
    }
  </style>

  <script src="script.js"></script>
</head>
<body>
  <h1>クイズ管理画面</h1>
  <p>※事前に Firestore の「questions」コレクションに各問題を登録しておきます。</p>

  <div id="adminPanel">
    <!-- Q1〜Q10 の制御ボタン。正解番号は実際の問題に合わせて変更してください -->
    <div class="questionControl">
      <h2>Q1</h2>
      <small>※正解番号は admin_reveal / admin_showRanking の第2引数</small>
      <button onclick="admin_showIntro(1)">Q1 出題（問題文だけ）</button>
      <button onclick="admin_startQuestion(1)">Q1 選択肢表示＆回答開始</button>
      <button onclick="admin_showVotes(1)">Q1 投票数表示</button>
      <button onclick="admin_reveal(1, 1)">Q1 正解発表（正解=1）</button>
      <button onclick="admin_showRanking(1, 1)">Q1 正解者ランキング</button>
    </div>

    <div class="questionControl">
      <h2>Q2</h2>
      <small>正解番号は必要に応じて変更してください</small>
      <button onclick="admin_showIntro(2)">Q2 出題（問題文だけ）</button>
      <button onclick="admin_startQuestion(2)">Q2 選択肢表示＆回答開始</button>
      <button onclick="admin_showVotes(2)">Q2 投票数表示</button>
      <button onclick="admin_reveal(2, 2)">Q2 正解発表（正解=2）</button>
      <button onclick="admin_showRanking(2, 2)">Q2 正解者ランキング</button>
    </div>

    <div class="questionControl">
      <h2>Q3</h2>
      <button onclick="admin_showIntro(3)">Q3 出題（問題文だけ）</button>
      <button onclick="admin_startQuestion(3)">Q3 選択肢表示＆回答開始</button>
      <button onclick="admin_showVotes(3)">Q3 投票数表示</button>
      <button onclick="admin_reveal(3, 3)">Q3 正解発表（正解=3）</button>
      <button onclick="admin_showRanking(3, 3)">Q3 正解者ランキング</button>
    </div>

    <div class="questionControl">
      <h2>Q4（画像問題の例）</h2>
      <small>画像パスは question.html / Firestore の question データで設定</small>
      <button onclick="admin_showIntro(4)">Q4 出題（問題文だけ）</button>
      <button onclick="admin_startQuestion(4)">Q4 選択肢表示＆回答開始</button>
      <button onclick="admin_showVotes(4)">Q4 投票数表示</button>
      <button onclick="admin_reveal(4, 2)">Q4 正解発表（正解=2 など）</button>
      <button onclick="admin_showRanking(4, 2)">Q4 正解者ランキング</button>
    </div>

    <div class="questionControl">
      <h2>Q5</h2>
      <button onclick="admin_showIntro(5)">Q5 出題（問題文だけ）</button>
      <button onclick="admin_startQuestion(5)">Q5 選択肢表示＆回答開始</button>
      <button onclick="admin_showVotes(5)">Q5 投票数表示</button>
      <button onclick="admin_reveal(5, 1)">Q5 正解発表（正解=1）</button>
      <button onclick="admin_showRanking(5, 1)">Q5 正解者ランキング</button>
    </div>

    <div class="questionControl">
      <h2>Q6</h2>
      <button onclick="admin_showIntro(6)">Q6 出題（問題文だけ）</button>
      <button onclick="admin_startQuestion(6)">Q6 選択肢表示＆回答開始</button>
      <button onclick="admin_showVotes(6)">Q6 投票数表示</button>
      <button onclick="admin_reveal(6, 4)">Q6 正解発表（正解=4）</button>
      <button onclick="admin_showRanking(6, 4)">Q6 正解者ランキング</button>
    </div>

    <div class="questionControl">
      <h2>Q7（画像問題の例）</h2>
      <button onclick="admin_showIntro(7)">Q7 出題（問題文だけ）</button>
      <button onclick="admin_startQuestion(7)">Q7 選択肢表示＆回答開始</button>
      <button onclick="admin_showVotes(7)">Q7 投票数表示</button>
      <button onclick="admin_reveal(7, 3)">Q7 正解発表（正解=3）</button>
      <button onclick="admin_showRanking(7, 3)">Q7 正解者ランキング</button>
    </div>

    <div class="questionControl">
      <h2>Q8</h2>
      <button onclick="admin_showIntro(8)">Q8 出題（問題文だけ）</button>
      <button onclick="admin_startQuestion(8)">Q8 選択肢表示＆回答開始</button>
      <button onclick="admin_showVotes(8)">Q8 投票数表示</button>
      <button onclick="admin_reveal(8, 2)">Q8 正解発表（正解=2）</button>
      <button onclick="admin_showRanking(8, 2)">Q8 正解者ランキング</button>
    </div>

    <div class="questionControl">
      <h2>Q9</h2>
      <button onclick="admin_showIntro(9)">Q9 出題（問題文だけ）</button>
      <button onclick="admin_startQuestion(9)">Q9 選択肢表示＆回答開始</button>
      <button onclick="admin_showVotes(9)">Q9 投票数表示</button>
      <button onclick="admin_reveal(9, 1)">Q9 正解発表（正解=1）</button>
      <button onclick="admin_showRanking(9, 1)">Q9 正解者ランキング</button>
    </div>

    <div class="questionControl">
      <h2>Q10</h2>
      <button onclick="admin_showIntro(10)">Q10 出題（問題文だけ）</button>
      <button onclick="admin_startQuestion(10)">Q10 選択肢表示＆回答開始</button>
      <button onclick="admin_showVotes(10)">Q10 投票数表示</button>
      <button onclick="admin_reveal(10, 4)">Q10 正解発表（正解=4）</button>
      <button onclick="admin_showRanking(10, 4)">Q10 正解者ランキング</button>
    </div>

    <hr />

    <div class="questionControl">
      <h2>最終結果</h2>
      <button onclick="admin_showFinalRanking()">最終結果ランキングを表示</button>
    </div>
  </div>
</body>
</html>








